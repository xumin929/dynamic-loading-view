(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1245:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,o=(l=a(1269))&&l.__esModule?l:{default:l};t.default=o.default,e.exports=t.default},1268:function(e,t,a){},1269:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(a(31)),o=c(a(959)),r=c(a(18)),s=c(a(6)),n=c(a(11)),i=c(a(5)),d=c(a(7)),p=c(a(229));a(62),a(958),a(228);var u=a(1),f=c(u);function c(e){return e&&e.__esModule?e:{default:e}}a(1268),p.default.config({top:300,duration:2});var m=!0,h=function(e){function t(e,a){(0,s.default)(this,t);var l=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,a));return l.beforeUpload=function(e){var t=l.props.maxFileSize,a=l.props.fileSizeType,o=l.props.imgType,r=!0,s=!0,n=e.name;if(o&&o.length>0){var i=n.split("."),d=i[i.length-1];d=d.toUpperCase(),-1===(o=o.map(function(e,t){return e.toUpperCase()})).indexOf(d)&&(s=!1)}return t&&e.size&&(r=!a||"M"!=a.toUpperCase()&&"MB"!=a.toUpperCase()?a&&"KB"==a.toUpperCase()?e.size<=1024*parseInt(t):a&&"B"==a.toUpperCase()?e.size<=parseInt(t):e.size<=1024*parseInt(t)*1024:e.size<=1024*parseInt(t)*1024),s?!!r||(a||(a="M"),p.default.error("上传图片的文件大小必须小于"+t+a+"!"),!1):(p.default.error("上传图片的文件格式有误!"),!1)},l.handleChange=function(e){if("uploading"===e.file.status&&(m&&p.default.loading("正在上传中，请稍等....",1),m=!1),"done"===e.file.status){m=!0;var t=e.file.response;if(t&&"0"==t.code){var a=t.data;l.setState({imageUrl:a});var o=l.props.relation,r=l.props.onChange;(s={})[o]=a,r(s)}else{var s;t&&"-1"==t.code?p.default.error(t.msg):p.default.error("上传失败！"),(0,l.props.onChange)(s={})}}"error"===e.file.status&&(m=!0,p.default.error("上传失败！"))},l.onRemove=function(){l.props.onRemove&&"function"==typeof l.props.onRemove&&l.props.onRemove({url:l.state.imageUrl}),l.setState({imageUrl:void 0})},l.state={imageUrl:e.imageUrl||""},l}return(0,d.default)(t,e),(0,n.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({imageUrl:e.imageUrl||""})}},{key:"render",value:function(){var e=this.props.style||{},t=this.props.action,a=this.props.data,r=this.props.name,s=this.state.imageUrl||"",n="upload-select-wrap "+(this.props.className||"");return s&&s.length>0&&(n+=" solid-border"),f.default.createElement("div",{className:n,style:e},s&&""!=s?f.default.createElement("div",{class:"upload-select-box"},f.default.createElement("img",{src:s}),f.default.createElement("div",{class:"upload-select-footer"},f.default.createElement(o.default,{name:r,showUploadList:!1,action:t,beforeUpload:this.beforeUpload.bind(this),onChange:this.handleChange.bind(this),data:a},f.default.createElement("div",{class:"upload-select-btn"},"重新上传")),f.default.createElement("div",{class:"upload-select-removebtn",onClick:this.onRemove},"删除"))):f.default.createElement(o.default,{name:r,showUploadList:!1,action:t,beforeUpload:this.beforeUpload.bind(this),onChange:this.handleChange.bind(this),data:a},f.default.createElement("div",{className:"upload-select-defaultbtn"},f.default.createElement(l.default,{type:"plus",className:"upload-plus"})," ",f.default.createElement("br",null),"上传图片")))}}]),t}(u.Component);t.default=h,e.exports=t.default}}]);
//# sourceMappingURL=10-8ebbc45128b15756fe83.js.map