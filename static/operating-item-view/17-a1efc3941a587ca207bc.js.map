{"version":3,"sources":["webpack:///./src/components-react/ReleaseChannel/v1.0.0/view/index.js","webpack:///./src/components-react/ReleaseChannel/v1.0.0/view/style/index.less","webpack:///./src/components-react/ReleaseChannel/v1.0.0/view/ReleaseChannel.js"],"names":["a","n","__webpack_require__","__esModule","default","t","e","exports","1455","l","module","labelWrap","labelTitle","labelCont","colorRed","errorTips","1456","Object","defineProperty","value","u","h","o","r","i","s","d","f","c","_react","v","p","m","CheckboxGroup","_checkbox2","Group","ReleaseChannel","props","_classCallCheck3","this","_this","_possibleConstructorReturn3","__proto__","_getPrototypeOf2","call","_initialiseProps","state","getValue","nextProps","setState","_this2","_react2","createElement","className","_index2","htmlFor","options","label","onChange","checkedValues","old_value","itemTmplPublishVo","channelArr","indexOf","push","length","_message3","warn","_this3","concat","JSON","parse","_stringify2","updateItemTmplAction"],"mappings":"6IAAA,IAAAA,EAAAC,GAAAD,EAAAE,EAAA,QAAAF,EAAAG,WAAAH,GAAAI,QAAAJ,GAAAK,EAAAD,QAAAH,EAAAG,QAAAE,EAAAC,QAAAF,EAAAD,SAAAI,KAAA,SAAAF,EAAAD,EAAAI,GCCAC,EAAAH,SAAkBI,UAAA,0BAAAC,WAAA,uBAAAC,UAAA,0BAAAC,SAAA,0BAAAC,UAAA,4BAAAC,KAAA,SAAAV,EAAAD,EAAAI,GAAA,aAAAQ,OAAAC,eAAAb,EAAA,cAAAc,OAAA,IAAAd,EAAAD,aAAA,MAAAJ,EAAAoB,EAAAnB,EAAAoB,EAAAZ,EAAA,MAAAa,EAAAD,EAAAZ,EAAA,MAAAc,EAAAF,EAAAZ,EAAA,KAAAe,EAAAH,EAAAZ,EAAA,IAAAgB,EAAAJ,EAAAZ,EAAA,KAAAiB,EAAAL,EAAAZ,EAAA,IAAAkB,EAAAN,EAAAZ,EAAA,IAAAmB,EAAAP,EAAAZ,EAAA,MAAAA,EAAA,KAAAA,EAAA,KCQlB,IAAAoB,EAAA3B,EAAA,GAAA4B,EAAAT,EAAAU,GAAAC,EAAAX,EAEAnB,EAAA,gBAAAmB,EAAAf,GAAA,OAAAA,KAAAH,WAAAG,GAAAF,QAAAE,GAEA,IAAM2B,EAAgBC,EAAA9B,QAAS+B,MACVC,iBACjB,SAAAA,EAAYC,MAAOC,EAAAlC,SAAAmC,KAAAH,GAAA,IAAAI,KAAAC,EAAArC,SAAAmC,MAAAH,EAAAM,cAAAC,EAAAvC,SAAAgC,IAAAQ,KAAAL,KACTF,IADS,OAAAQ,EAAAD,KAAAJ,GAEfA,EAAKM,OACD3B,MAAOqB,EAAKO,SAASV,IAHVG,4FAMOQ,GACtBT,KAAKU,UACD9B,MAAOoB,KAAKQ,SAASC,sCAkBpB,IAAAE,EAAAX,KAKL,OACIY,EAAA/C,QAAAgD,cAAA,OAAKC,UAAWC,EAAAlD,QAAOO,WACnBwC,EAAA/C,QAAAgD,cAAA,SAAOG,QAAQ,OAAOF,UAAWC,EAAAlD,QAAOQ,YACpCuC,EAAA/C,QAAAgD,cAAA,QAAMC,UAAWC,EAAAlD,QAAOU,UAAxB,KADJ,SAGAqC,EAAA/C,QAAAgD,cAAA,OAAKC,UAAWC,EAAAlD,QAAOS,WACnBsC,EAAA/C,QAAAgD,cAACnB,GACGuB,UAVVC,MAAO,MAAOtC,MAAO,MACrBsC,MAAO,MAAOtC,MAAO,OAUXA,MAAOoB,KAAKO,MAAM3B,MAClBuC,SAAU,SAACC,GAAkBT,EAAKQ,SAASC,cAzC9CvB,CAyC8CuB,0CAzB/DZ,SAAW,SAACV,GACR,IAAIlB,KACAyC,EAAYvB,EAAMwB,mBAAqBxB,EAAMwB,kBAAkBC,aAAe,IAAK,MAOvF,OANGF,EAAUG,QAAQ,IAAM,GACvB5C,EAAM6C,KAAK,KAEZJ,EAAUG,QAAQ,IAAM,GACvB5C,EAAM6C,KAAK,MAER7C,QA2BXuC,SAAW,SAACC,GACR,GAAGA,EAAcM,QAAQ,EACrBC,EAAA9D,QAAQ+D,KAAK,iBACV,CACHC,EAAKnB,UACD9B,MAAOwC,IAEX,IAAIG,KACDH,EAAcI,QAAQ,MAAM,IAC3BD,EAAaA,EAAWO,QAAQ,EAAE,EAAE,EAAE,EAAE,KAEzCV,EAAcI,QAAQ,OAAO,GAC5BD,EAAWE,KAAK,GAEpB,IAAIH,EAAoBS,KAAKC,SAAMC,EAAApE,SAAegE,EAAK/B,MAAMwB,oBAC7DA,EAAkBC,WAAaA,EAC/BM,EAAK/B,MAAMoC,qBAAqBZ,mBApEvBzB","file":"17-a1efc3941a587ca207bc.js","sourcesContent":["import ReleaseChannel from './ReleaseChannel';\r\nexport default ReleaseChannel;","// extracted by extract-css-chunks-webpack-plugin\nmodule.exports = {\"labelWrap\":\"_2EO3Aln3d2twno8kWGQPKU\",\"labelTitle\":\"WxG8vkE4de4R7hDYiQZh\",\"labelCont\":\"_13fxalN-5oFTSRmURFfpBC\",\"colorRed\":\"_3T7OL021Pg-3EJHA7gZTqm\",\"errorTips\":\"_3uvdnccISJmd3T4FTRvTO9\"};","/**\r\n * @author chenyanhua\r\n * @date 2018-08-06\r\n * @file 发布商品-商品介绍 Tab组件\r\n * 运营平台/店铺/供应商 用的该组件代码都一样\r\n * 除模板引用的static下的ueditor文件不一样\r\n * shop引用的是ueditor.all.js\r\n * platform引用的是ueditor.all.min.js\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Checkbox, message } from 'jdcloudui';\r\nimport styles from \"./style/index.less\";\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\nexport default class ReleaseChannel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.getValue(props)\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        this.setState({\r\n            value: this.getValue(nextProps)\r\n        });\r\n    }\r\n    /**\r\n     * 根据edit确定是新发布还是编辑\r\n     * 新发布默认选中全部\r\n     */\r\n    getValue = (props)=>{\r\n        let value = [];\r\n        let old_value = props.itemTmplPublishVo && props.itemTmplPublishVo.channelArr || ['m', 'pc'];\r\n        if(old_value.indexOf(1) >= 0){\r\n            value.push('m');\r\n        }\r\n        if(old_value.indexOf(6) >= 0){\r\n            value.push('pc');\r\n        }\r\n        return value;\r\n    }\r\n    render() {\r\n        const channelOptions = [\r\n            { label: '移动端', value: 'm' },\r\n            { label: 'PC端', value: 'pc' },\r\n        ];\r\n        return (\r\n            <div className={styles.labelWrap}>\r\n                <label htmlFor=\"适用渠道\" className={styles.labelTitle}>\r\n                    <span className={styles.colorRed}>*</span>适用渠道：\r\n                </label>\r\n                <div className={styles.labelCont}>\r\n                    <CheckboxGroup \r\n                        options={channelOptions} \r\n                        value={this.state.value}\r\n                        onChange={(checkedValues)=>{ this.onChange(checkedValues); }} \r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * 选择销售渠道,组合数据,并更新数据源\r\n     * PC端传6，移动端传1~5\r\n     */\r\n    onChange = (checkedValues)=>{\r\n        if(checkedValues.length<=0){\r\n            message.warn('适用渠道不能为空!');\r\n        } else {\r\n            this.setState({\r\n                value: checkedValues\r\n            });\r\n            let channelArr = [];\r\n            if(checkedValues.indexOf('m')>=0){\r\n                channelArr = channelArr.concat([1,2,3,4,5]);\r\n            }\r\n            if(checkedValues.indexOf('pc')>=0){\r\n                channelArr.push(6);\r\n            }\r\n            let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n            itemTmplPublishVo.channelArr = channelArr;\r\n            this.props.updateItemTmplAction(itemTmplPublishVo); \r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}