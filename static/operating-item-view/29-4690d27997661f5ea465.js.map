{"version":3,"sources":["webpack:///./src/components-react/BasicShopCategory/v1.0.0/view/index.js","webpack:///./src/components-react/BasicShopCategory/v1.0.0/view/redux/redux.js","webpack:///./src/components-react/BasicShopCategory/v1.0.0/view/style/category.less","webpack:///./src/components-react/BasicShopCategory/v1.0.0/view/ShopCategory.js","webpack:///./src/components-react/BasicShopCategory/v1.0.0/view/BindShopCategory.js"],"names":["d","n","__webpack_require__","__esModule","default","t","e","exports","1479","a","Object","defineProperty","value","state","arguments","length","defaultData","action","type","FIRST_CATEGORY_LOADING","_extends3","first","firstloaded","loading","SECOND_CATEGORY_LOADING","second","secondloaded","THIRD_CATEGORY_LOADING","third","thirdloaded","FOUR_CATEGORY_LOADING","four","fourloaded","FIRST_CATEGORY_SUCCESS","data","result","FIRST_CATEGORY_FAIL","error","msg","SECOND_CATEGORY_SUCCESS","SECOND_CATEGORY_FAIL","THIRD_CATEGORY_SUCCESS","THIRD_CATEGORY_FAIL","FOUR_CATEGORY_SUCCESS","FOUR_CATEGORY_FAIL","First_CATEGORY_CLEAR","SECOND_CATEGORY_CLEAR","THIRD_CATEGORY_CLEAR","getFirstCid","cid","types","promise","client","get","params","parentCid","getSecondCid","clearData","level","module","labelWrap","labelTitle","labelCont","1484","f","o","r","s","l","_react","c","i","u","Option","_select2","ShopCategory","props","context","_classCallCheck3","this","_this","_possibleConstructorReturn3","__proto__","_getPrototypeOf2","call","handleSecondCategoryChange","setState","secondValue","detailIndex","getShopCidRedux","handleChangeCategoryValue","secondLeaf","handleFirstCategoryChange","firstValue","firstOn","secondOn","secondCategoryOptions","_react2","createElement","title","key","style","color","then","firstLeaf","firstCategoryOptions","currentIndex","shopCnames","nextProps","itemTmplPublishVo","split","ifHasLeaf","shopCid","updateItemTmplAction","category","index","_this2","hasLeaf","map","item","_this3","firstResult","categoryName","unshift","secondResult","dataSource","className","_category2","disabled","ifValid","placeholder","notFoundContent","allowClear","size","onChange","_reactRedux","p","_redux","BindShopCategory","_inject2","connect","store"],"mappings":"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","file":"29-4690d27997661f5ea465.js","sourcesContent":["import BindShopCategory from './BindShopCategory';\r\nexport default BindShopCategory;","const FIRST_CATEGORY_SUCCESS = 'item/categoryCascade/FIRST_CATEGORY_SUCCESS';\r\nconst FIRST_CATEGORY_FAIL = 'item/categoryCascade/FIRST_CATEGORY_FAIL';\r\nconst SECOND_CATEGORY_SUCCESS = 'item/categoryCascade/SECOND_CATEGORY_SUCCESS';\r\nconst SECOND_CATEGORY_FAIL = 'item/categoryCascade/SECOND_CATEGORY_FAIL';\r\nconst THIRD_CATEGORY_SUCCESS = 'item/categoryCascade/THIRD_CATEGORY_SUCCESS';\r\nconst THIRD_CATEGORY_FAIL = 'item/categoryCascade/THIRD_CATEGORY_FAIL';\r\nconst FOUR_CATEGORY_SUCCESS = 'item/categoryCascade/FOUR_CATEGORY_SUCCESS';\r\nconst FOUR_CATEGORY_FAIL = 'item/categoryCascade/FOUR_CATEGORY_FAIL';\r\nconst FIRST_CATEGORY_LOADING = 'item/categoryCascade/FIRST_CATEGORY_LOADING';\r\nconst SECOND_CATEGORY_LOADING = 'item/categoryCascade/SECOND_CATEGORY_LOADING';\r\nconst THIRD_CATEGORY_LOADING = 'item/categoryCascade/THIRD_CATEGORY_LOADING';\r\nconst FOUR_CATEGORY_LOADING = 'item/categoryCascade/FOUR_CATEGORY_LOADING';\r\nconst First_CATEGORY_CLEAR = 'item/categoryCascade/First_CATEGORY_CLEAR';\r\nconst SECOND_CATEGORY_CLEAR = 'item/categoryCascade/SECOND_CATEGORY_CLEAR';\r\nconst THIRD_CATEGORY_CLEAR = 'item/categoryCascade/THIRD_CATEGORY_CLEAR';\r\n\r\nlet defaultData = {\r\n  first:{\r\n    loading: false,\r\n    data:{\r\n      data:[]\r\n    }\r\n  },\r\n  second:{\r\n    loading: false,\r\n    data:{\r\n      data:[]\r\n    }\r\n  },\r\n  third:{\r\n    loading: false,\r\n    data:{\r\n      data:[]\r\n    }\r\n  },\r\n  four:{\r\n    loading: false,\r\n    data:{\r\n      data:[]\r\n    }\r\n  }\r\n};\r\nexport default function (state = defaultData, action = {}) {\r\n  switch (action.type) {\r\n    case FIRST_CATEGORY_LOADING:\r\n      return {\r\n        ...state,\r\n        first: {\r\n          ...state.first,\r\n          firstloaded: false,\r\n          loading: true\r\n        }\r\n      };\r\n    case SECOND_CATEGORY_LOADING:\r\n      return {\r\n        ...state,\r\n        second: {\r\n          ...state.second,\r\n          secondloaded: false,\r\n          loading: true\r\n        }\r\n      };\r\n    case THIRD_CATEGORY_LOADING:\r\n      return {\r\n        ...state,\r\n        third: {\r\n          ...state.third,\r\n          thirdloaded: false,\r\n          loading: true\r\n        }\r\n      };\r\n    case FOUR_CATEGORY_LOADING:\r\n      return {\r\n        ...state,\r\n        four: {\r\n          ...state.four,\r\n          fourloaded: false,\r\n          loading: true\r\n        }\r\n      };\r\n    case FIRST_CATEGORY_SUCCESS:\r\n      return {\r\n        ...state,\r\n        first: {\r\n          loading: false,\r\n          firstloaded: true,\r\n          data: action.result\r\n        }\r\n      };\r\n    case FIRST_CATEGORY_FAIL:\r\n      return {\r\n        ...state,\r\n        first: {\r\n          loading: false,\r\n          firstloaded: false,\r\n          error: action.msg\r\n        }\r\n      };\r\n    case SECOND_CATEGORY_SUCCESS:\r\n      return {\r\n        ...state,\r\n        second: {\r\n          loading: false,\r\n          secondloaded: true,\r\n          data: action.result\r\n        }\r\n      };\r\n    case SECOND_CATEGORY_FAIL:\r\n      return {\r\n        ...state,\r\n        second: {\r\n          loading: false,\r\n          secondloaded: false,\r\n          error: action.msg\r\n        }\r\n      };\r\n    case THIRD_CATEGORY_SUCCESS:\r\n      return {\r\n        ...state,\r\n        third: {\r\n          loading: false,\r\n          thirdloaded: true,\r\n          data: action.result\r\n        }\r\n      };\r\n    case THIRD_CATEGORY_FAIL:\r\n      return {\r\n        ...state,\r\n        third: {\r\n          loading: false,\r\n          thirdloaded: false,\r\n          error: action.msg\r\n        }\r\n      };\r\n    case FOUR_CATEGORY_SUCCESS:\r\n      return {\r\n        ...state,\r\n        four: {\r\n          loading: false,\r\n          fourloaded: true,\r\n          data: action.result\r\n        }\r\n      };\r\n    case FOUR_CATEGORY_FAIL:\r\n      return {\r\n        ...state,\r\n        four: {\r\n          loading: false,\r\n          fourloaded: false,\r\n          error: action.msg\r\n        }\r\n      };\r\n    case First_CATEGORY_CLEAR:\r\n      return {\r\n        ...state,\r\n        second:{\r\n          loading: false,\r\n          data:{\r\n            data:[]\r\n          }\r\n        },\r\n        third:{\r\n          loading: false,\r\n          data:{\r\n            data:[]\r\n          }\r\n        },\r\n        four:{\r\n          loading: false,\r\n          data:{\r\n            data:[]\r\n          }\r\n        }\r\n      };\r\n    case SECOND_CATEGORY_CLEAR:\r\n      return {\r\n        ...state,\r\n        third:{\r\n          loading: false,\r\n          data:{\r\n            data:[]\r\n          }\r\n        },\r\n        four:{\r\n          loading: false,\r\n          data:{\r\n            data:[]\r\n          }\r\n        }\r\n      };\r\n    case THIRD_CATEGORY_CLEAR:\r\n      return {\r\n        ...state,\r\n        four:{\r\n          loading: false,\r\n          data:{\r\n            data:[]\r\n          }\r\n        }\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport function getFirstCid (cid) {\r\n    let url = '/shop/shopinfo/shopinfoCategory/queryCategoryByParentCid';\r\n    return {\r\n        types: [ FIRST_CATEGORY_LOADING, FIRST_CATEGORY_SUCCESS, FIRST_CATEGORY_FAIL],\r\n        promise: (client) => client.get(url,{params:{parentCid:cid}})\r\n    }\r\n}\r\n\r\nexport function getSecondCid (cid) {\r\n    let url = '/shop/shopinfo/shopinfoCategory/queryCategoryByParentCid';\r\n    return {\r\n        types: [ SECOND_CATEGORY_LOADING, SECOND_CATEGORY_SUCCESS, SECOND_CATEGORY_FAIL],\r\n        promise: (client) => client.get(url,{params:{parentCid:cid}})\r\n    }\r\n}\r\n\r\n export function clearData (level){\r\n    let type;\r\n    if (level == 1){\r\n        type = First_CATEGORY_CLEAR;\r\n    }else if (level == 2){\r\n        type = SECOND_CATEGORY_CLEAR;\r\n    }else if (level == 3){\r\n        type = THIRD_CATEGORY_CLEAR;\r\n    }\r\n   return {\r\n     type:type\r\n   }\r\n}","// extracted by extract-css-chunks-webpack-plugin\nmodule.exports = {\"labelWrap\":\"W18b-M1_pcQBUeTihAmr0\",\"labelTitle\":\"_266bNnJYnc1cvAnbY8UVOr\",\"labelCont\":\"IwSDhIJoE4BIHjbNT-6cf\"};","/**\r\n * 平台分类组件：四级类目级联选择框\r\n */\r\nimport React, { Component }  from 'react';\r\nimport { Select ,Tooltip } from 'jdcloudui';\r\nimport styles from './style/category.less';\r\nimport './style/style.css';\r\n\r\nconst Option = Select.Option;\r\nconst listTip = '请选择类目';\r\nconst allowClear = true;\r\n\r\nexport default class ShopCategory extends Component {\r\n  constructor(props,context) {\r\n    super(props,context);\r\n    this.state={\r\n      firstLeaf: false, //一级类目是否是叶子节点\r\n      secondLeaf: false, //二级类目是否是叶子节点\r\n      firstValue: '请选择',\r\n      secondValue: '请选择',\r\n    };\r\n\r\n    this.firstCategoryOptions = (<Option  title = {'请选择'}  key={'请选择'}><span style = {{color: '#ccc'}}>请选择</span></Option>);\r\n    this.secondCategoryOptions = (<Option  title = {'请选择'}  key={'请选择'}><span style = {{color: '#ccc'}}>请选择</span></Option>);\r\n    this.currentIndex = 0;\r\n    this.firstOn = true;\r\n    this.secondOn = false;\r\n    this.shopCnames = ''; //用于保存类目回显数据\r\n  }\r\n\r\n  componentWillMount() {\r\n    //请求一级类目\r\n    let parentCid = -1;\r\n    this.props.getFirstCid(parentCid);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    if(nextProps.itemTmplPublishVo){\r\n      if(nextProps.itemTmplPublishVo.shopCnames && nextProps.itemTmplPublishVo.shopCnames != this.shopCnames){\r\n        this.shopCnames = nextProps.itemTmplPublishVo.shopCnames;\r\n        //数据回显\r\n        let shopCnames = this.shopCnames.split(',');\r\n        this.setState({\r\n          firstValue: shopCnames[0]?shopCnames[0]:'请选择',\r\n          secondValue: shopCnames[1]?shopCnames[1]:'请选择',\r\n        })\r\n        switch(shopCnames.length){\r\n          case 1: this.setState({ firstLeaf:true })\r\n          case 2: this.setState({ secondLeaf:true })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  //保存终极类目cid\r\n  handleChangeCategoryValue(cid, ifHasLeaf) {\r\n    let itemTmplPublishVo = this.props.itemTmplPublishVo;\r\n    if(ifHasLeaf){\r\n      itemTmplPublishVo.shopCid = cid\r\n      this.props.updateItemTmplAction(itemTmplPublishVo)\r\n    }\r\n  }\r\n\r\n  detailIndex(cid, category , index){//判断当前是否是根节点\r\n    let hasLeaf = false;\r\n    if(category && category.length > 0){\r\n      category.map((item, index) => {\r\n        if(item.cid == cid){\r\n          this.currentIndex = index;\r\n          if(category[this.currentIndex].hasLeaf == 1){\r\n            hasLeaf = true;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    switch (index){\r\n      case 1:\r\n        this.setState({firstLeaf: hasLeaf});\r\n      case 2: \r\n        this.setState({secondLeaf: hasLeaf});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取二级类目cid，返回组件对外提供的方法上面，供父组件使用\r\n   * @param cid\r\n   */\r\n  handleSecondCategoryChange=(cid)=> {\r\n    this.setState({\r\n      secondValue: cid\r\n    });\r\n    this.detailIndex(cid, this.props.getShopCidRedux.second.data.data, 2);\r\n    this.handleChangeCategoryValue(cid, this.state.secondLeaf);\r\n  }\r\n\r\n  /**\r\n   * 查询二级类目\r\n   * @param cid\r\n   */\r\n  handleFirstCategoryChange=(cid)=> {\r\n    this.setState({\r\n      firstValue: cid,\r\n      secondValue: '请选择',\r\n      secondLeaf: false,\r\n    });\r\n    this.firstOn = true;\r\n    this.secondOn = true;\r\n    this.secondCategoryOptions = (<Option  title = {'请选择'}  key={'请选择'}><span style = {{color: '#ccc'}}>请选择</span></Option>);\r\n    if (cid && (cid != '请选择')) {\r\n      this.detailIndex(cid, this.props.getShopCidRedux.first.data.data, 1);\r\n      this.props.getSecondCid(cid).then(\r\n        (result) => {\r\n          if(result.data && result.data.length < 1){\r\n            if(!this.state.firstLeaf){\r\n\r\n              this.secondCategoryOptions = [];\r\n              this.secondOn = false;\r\n            }else{\r\n               this.setState({\r\n                  secondValue: '请选择',\r\n                });\r\n              this.secondCategoryOptions = (<Option  title = {'请选择'}  key={'请选择'}><span style = {{color: '#ccc'}}>请选择</span></Option>);\r\n            }\r\n          }\r\n        }\r\n      );\r\n    } else{\r\n      this.secondCategoryOptions = (<Option  title = {'请选择'}  key={'请选择'}><span style = {{color: '#ccc'}}>请选择</span></Option>);\r\n      this.props.clearData(1);\r\n    }\r\n    this.handleChangeCategoryValue(cid, this.state.firstLeaf);\r\n  }\r\n\r\n  dataSource() {\r\n    return {\r\n      first:()=>{\r\n        if (this.props.getShopCidRedux.first.data){\r\n          let firstResult = this.props.getShopCidRedux.first.data.data;\r\n          if (firstResult && firstResult.length > 0){\r\n            this.firstCategoryOptions = firstResult.map(first => <Option  title = {first.categoryName}  key={first.cid}>\r\n                  {first.categoryName}\r\n            </Option>);\r\n            this.firstCategoryOptions.unshift(<Option  title = {'请选择'}  key={'请选择'}>\r\n                  <span style = {{color: '#ccc'}}>请选择</span>\r\n            </Option>);\r\n          } \r\n        }\r\n      },\r\n      second:()=>{\r\n        if (this.props.getShopCidRedux.second.data){\r\n          let secondResult = this.props.getShopCidRedux.second.data.data;\r\n          if (secondResult && secondResult.length > 0){\r\n            this.secondCategoryOptions = secondResult.map(second => <Option title = {second.categoryName}  key={second.cid}>{second.categoryName}</Option>);\r\n            this.secondCategoryOptions.unshift(<Option  title = {'请选择'}  key={'请选择'}>\r\n                  <span style = {{color: '#ccc'}}>请选择</span>\r\n            </Option>);\r\n          }\r\n        }\r\n\t\t\t}\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.firstOn && this.props.getShopCidRedux.first.firstloaded && this.dataSource().first();\r\n    this.secondOn && this.props.getShopCidRedux.second.secondloaded && this.dataSource().second();\r\n\r\n    return (\r\n      <div className={styles.labelWrap}>\r\n        <label className={styles.labelTitle}>店铺：</label>\r\n        <div className={styles.labelCont}>\r\n        {/*一级类目变化*/}\r\n          <Select \r\n              disabled = {this.props.ifValid}\r\n              placeholder='请选择'\r\n              value = {this.state.firstValue} \r\n              notFoundContent={listTip} \r\n              allowClear={allowClear} \r\n              size=\"large\" \r\n              className=\"select\"\r\n              onChange={this.handleFirstCategoryChange}>\r\n                  {this.firstCategoryOptions}\r\n          </Select>\r\n        {/*二级类目变化*/}\r\n          <Select \r\n              disabled = {this.props.ifValid || this.state.firstLeaf } \r\n              placeholder='请选择'\r\n              notFoundContent={listTip} \r\n              allowClear={allowClear} \r\n              size=\"large\" \r\n              className=\"select\"\r\n              onChange={this.handleSecondCategoryChange}\r\n              value = {this.state.secondValue} >\r\n                  {this.secondCategoryOptions} \r\n          </Select>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import { connect } from 'react-redux';\r\nimport inject from \"../../../../redux/inject\";\r\nimport K from \"./ShopCategory\";\r\n\r\nimport getShopCidRedux , { getFirstCid, getSecondCid, clearData } from './redux/redux';\r\n\r\n@inject({ \r\n    getShopCidRedux\r\n})\r\n@connect(store => ({\r\n    getShopCidRedux: store.getShopCidRedux\r\n}), {\r\n    getFirstCid,\r\n    getSecondCid,\r\n    clearData\r\n})\r\n\r\nexport default class BindShopCategory extends K {}"],"sourceRoot":""}