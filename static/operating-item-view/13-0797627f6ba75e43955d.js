(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1364:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),i=r(0),a=r.n(i),u=r(9),l=r.n(u),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.forceRender||this.props.isActive||e.isActive}},{key:"render",value:function(){var e;if(this._isActived=this.props.forceRender||this._isActived||this.props.isActive,!this._isActived)return null;var t=this.props,r=t.prefixCls,n=t.isActive,i=t.children,a=t.destroyInactivePanel,u=t.forceRender,s=t.role,p=l()((c(e={},r+"-content",!0),c(e,r+"-content-active",n),c(e,r+"-content-inactive",!n),e)),f=u||n||!a?o.a.createElement("div",{className:r+"-content-box"},i):null;return o.a.createElement("div",{className:p,role:s},f)}}]),t}();p.propTypes={prefixCls:a.a.string,isActive:a.a.bool,children:a.a.any,destroyInactivePanel:a.a.bool,forceRender:a.a.bool,role:a.a.string};var f=p,d=r(34),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleItemClick=function(){n.props.onItemClick&&n.props.onItemClick()},n.handleKeyPress=function(e){"Enter"!==e.key&&13!==e.keyCode&&13!==e.which||n.handleItemClick()},b(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),h(t,[{key:"render",value:function(){var e,t=this.props,r=t.className,n=t.id,i=t.style,a=t.prefixCls,u=t.header,s=t.headerClass,c=t.children,p=t.isActive,h=t.showArrow,b=t.destroyInactivePanel,y=t.disabled,v=t.accordion,g=t.forceRender,P=l()(a+"-header",m({},s,s)),_=l()((m(e={},a+"-item",!0),m(e,a+"-item-active",p),m(e,a+"-item-disabled",y),e),r);return o.a.createElement("div",{className:_,style:i,id:n},o.a.createElement("div",{className:P,onClick:this.handleItemClick,role:v?"tab":"button",tabIndex:y?-1:0,"aria-expanded":""+p,onKeyPress:this.handleKeyPress},h&&o.a.createElement("i",{className:"arrow"}),u),o.a.createElement(d.default,{showProp:"isActive",exclusive:!0,component:"",animation:this.props.openAnimation},o.a.createElement(f,{prefixCls:a,isActive:p,destroyInactivePanel:b,forceRender:g,role:v?"tabpanel":null},c)))}}]),t}();y.propTypes={className:a.a.oneOfType([a.a.string,a.a.object]),id:a.a.string,children:a.a.any,openAnimation:a.a.object,prefixCls:a.a.string,header:a.a.oneOfType([a.a.string,a.a.number,a.a.node]),headerClass:a.a.string,showArrow:a.a.bool,isActive:a.a.bool,onItemClick:a.a.func,style:a.a.object,destroyInactivePanel:a.a.bool,disabled:a.a.bool,accordion:a.a.bool,forceRender:a.a.bool},y.defaultProps={showArrow:!0,isActive:!1,destroyInactivePanel:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var v=y,g=r(150);function P(e,t,r,n){var o=void 0;return Object(g.default)(e,r,{start:function(){t?(o=e.offsetHeight,e.style.height=0):e.style.height=e.offsetHeight+"px"},active:function(){e.style.height=(t?o:0)+"px"},end:function(){e.style.height="",n()}})}var _=function(e){return{enter:function(t,r){return P(t,!0,e+"-anim",r)},leave:function(t,r){return P(t,!1,e+"-anim",r)}}},A=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=e;return Array.isArray(t)||(t=t?[t]:[]),t}var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.props,o=n.activeKey,i=n.defaultActiveKey;return"activeKey"in r.props&&(i=o),r.state={openAnimation:r.props.openAnimation||_(r.props.prefixCls),activeKey:O(i)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),A(t,[{key:"componentWillReceiveProps",value:function(e){"activeKey"in e&&this.setState({activeKey:O(e.activeKey)}),"openAnimation"in e&&this.setState({openAnimation:e.openAnimation})}},{key:"onClickItem",value:function(e){var t=this.state.activeKey;if(this.props.accordion)t=t[0]===e?[]:[e];else{var r=(t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t))).indexOf(e);r>-1?t.splice(r,1):t.push(e)}this.setActiveKey(t)}},{key:"getItems",value:function(){var e=this,t=this.state.activeKey,r=this.props,i=r.prefixCls,a=r.accordion,u=r.destroyInactivePanel,l=[];return n.Children.forEach(this.props.children,function(r,n){if(r){var s,c=r.key||String(n),p=r.props,f=p.header,d=p.headerClass,h=p.disabled;s=a?t[0]===c:t.indexOf(c)>-1;var m={key:c,header:f,headerClass:d,isActive:s,prefixCls:i,destroyInactivePanel:u,openAnimation:e.state.openAnimation,accordion:a,children:r.props.children,onItemClick:h?null:function(){return e.onClickItem(c)}};l.push(o.a.cloneElement(r,m))}}),l}},{key:"setActiveKey",value:function(e){"activeKey"in this.props||this.setState({activeKey:e}),this.props.onChange(this.props.accordion?e[0]:e)}},{key:"render",value:function(){var e,t=this.props,r=t.prefixCls,n=t.className,i=t.style,a=t.accordion,u=l()((T(e={},r,!0),T(e,n,!!n),e));return o.a.createElement("div",{className:u,style:i,role:a?"tablist":null},this.getItems())}}]),t}();w.propTypes={children:a.a.any,prefixCls:a.a.string,activeKey:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),defaultActiveKey:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),openAnimation:a.a.object,onChange:a.a.func,accordion:a.a.bool,className:a.a.string,style:a.a.object,destroyInactivePanel:a.a.bool},w.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},w.Panel=v;var C=w;r.d(t,"Panel",function(){return V}),t.default=C;var V=C.Panel},1368:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(1428))&&n.__esModule?n:{default:n};t.default=o.default,e.exports=t.default},1417:function(e,t,r){},1419:function(e,t,r){e.exports={selectDiv:"fHGGT3GKw6GjboXfHPHh4"}},1421:function(e,t,r){},1422:function(e,t,r){"use strict";r(42),r(1421)},1423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),a=l(r(1364)),u=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e,t,r,o=this.props,l=o.prefixCls,s=o.className,c=void 0===s?"":s,p=o.showArrow,f=void 0===p||p,d=(0,u.default)((r=!f,(t=l+"-no-arrow")in(e={})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e),c);return i.createElement(a.default.Panel,n({},this.props,{className:d}))}}]),t}();t.default=s},1424:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1)),a=c(r(1364)),u=c(r(9)),l=c(r(1024)),s=c(r(1423));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e,t,r,o=this.props,l=o.prefixCls,s=o.className,c=void 0===s?"":s,p=o.bordered,f=(0,u.default)((r=!p,(t=l+"-borderless")in(e={})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e),c);return i.createElement(a.default,n({},this.props,{className:f}))}}]),t}();p.Panel=s.default,p.defaultProps={prefixCls:"jc-collapse",bordered:!0,openAnimation:n({},l.default,{appear:function(){}})},t.default=p},1425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(1424))&&n.__esModule?n:{default:n};t.default=o.default},1426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(951)),o=m(r(153)),i=m(r(18)),a=m(r(6)),u=m(r(11)),l=m(r(5)),s=m(r(7)),c=m(r(347)),p=m(r(1425));r(333),r(348),r(1422);var f=r(1),d=m(f),h=m(r(1419));function m(e){return e&&e.__esModule?e:{default:e}}r(1417);var b=p.default.Panel,y=c.default.Option,v=function(e){function t(e){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.componentDidMount=function(){r.props.itemTmplPublishVo&&r.props.itemTmplPublishVo.cid&&(console.log("mytest didmount,has cid"),1==r.props.type?r.props.getAttributeByCategoryIdForPlatform(r.props.itemTmplPublishVo.cid):2!=r.props.type&&3!=r.props.type||r.props.getAttributeByCategoryIdForShop(r.props.itemTmplPublishVo.cid))},r.getDefaultValue4Input=function(e,t){for(var r=0;r<(t||[]).length;++r)if(t[r].aid==e.attrId)return t[r].desc;return""},r.getDefaultValue=function(e,t,r,n){for(var o=0;o<e.length;++o)if(-1!=t.indexOf(e[o]))return e[o];for(var i=0;i<(n||[]).length;++i)if(n[i].aid==r.attrId)return n[i].vid;return""},r.shouldBeDisable=function(e,t){for(var r=0;r<e.length;++r)if(-1!=t.indexOf(e[r]))return!0;return!1},r.onChangeAttr=function(e,t,n,o){var i="select"==o?e:e.target.value,a={aid:t,vid:"",desc:""},u="";if(r.props.itemTmplPublishVo&&r.props.itemTmplPublishVo.cid&&1==r.props.itemTmplPublishVo.itemTmplSkuVoList.length&&!r.props.itemTmplPublishVo.itemTmplSkuVoList[0].attributes){for(var l=r.props.itemTmplPublishVo.itemTmplSkuVoList[0].specAttributes,s=0;s<(l||[]).length;++s)return l[s].aid==t&&("select"==o&&(l[s].vid=i),"input"==o&&(l[s].desc=i)),(u=r.props.itemTmplPublishVo).itemTmplSkuVoList[0].specAttributes=l,r.props.updateItemTmplAction(u),void r.forceUpdate();return u=r.props.itemTmplPublishVo,"select"==o?a.vid=i:a.desc=i,l?l.push(a):l=[a],(u=r.props.itemTmplPublishVo).itemTmplSkuVoList[0].specAttributes=l,r.props.updateItemTmplAction(u),void r.forceUpdate()}for(var c=r.props.itemTmplPublishVo.itemTmplSkuVoList,p=0;p<c.length;++p)if(r.matchAttr(n.attributes,c[p].attributes)){for(var f=0;f<(c[p].specAttributes||[]).length;++f)if(c[p].specAttributes[f].aid==t)return"select"==o&&c[p].specAttributes[f]&&(c[p].specAttributes[f].vid=i),"input"==o&&c[p].specAttributes[f]&&(c[p].specAttributes[f].desc=i),(u=r.props.itemTmplPublishVo).itemTmplSkuVoList=c,r.props.updateItemTmplAction(u),void r.forceUpdate();return"select"==o?a.vid=i:a.desc=i,c[p].specAttributes?c[p].specAttributes.push(a):c[p].specAttributes=[a],(u=r.props.itemTmplPublishVo).itemTmplSkuVoList=c,r.props.updateItemTmplAction(u),void r.forceUpdate()}},r}return(0,s.default)(t,e),(0,u.default)(t,[{key:"matchAttr",value:function(e,t){for(var r=[],n=0;n<(e||[]).length;++n)r.push(e[n].aid+":"+e[n].vid);for(var i=[],a=0;a<(t||[]).length;++a)i.push(t[a].aid+":"+t[a].vid);return!(!r||!i)&&(0,o.default)(r.sort())==(0,o.default)(i.sort())}},{key:"componentWillReceiveProps",value:function(e){console.log("mytest--------------------willReceiveProps---------------------"),((!this.props.itemTmplPublishVo||!this.props.itemTmplPublishVo.cid)&&e.itemTmplPublishVo&&e.itemTmplPublishVo.cid||this.props.itemTmplPublishVo&&this.props.itemTmplPublishVo.cid&&e.itemTmplPublishVo&&e.itemTmplPublishVo.cid&&e.itemTmplPublishVo.cid!=this.props.itemTmplPublishVo.cid)&&(console.log("mytest--------------------willReceiveProps,cid changed---------------------"),1==this.props.type?this.props.getAttributeByCategoryIdForPlatform(this.props.itemTmplPublishVo.cid):2!=this.props.type&&3!=this.props.type||this.props.getAttributeByCategoryIdForShop(this.props.itemTmplPublishVo.cid))}},{key:"render",value:function(){var e=this;console.log("mytestitemTmplPublishVoitemTmplPublishVoitemTmplPublishVo:",this.props.itemTmplPublishVo);var t=this.props.attributeData.data&&this.props.attributeData.data.data,r=this.props.itemTmplPublishVo&&this.props.itemTmplPublishVo.itemTmplSkuVoList&&this.props.itemTmplPublishVo.itemTmplSkuVoList.length>0?this.props.itemTmplPublishVo.itemTmplSkuVoList:[{attributes:[],specAttributes:[]}];return d.default.createElement("div",null,d.default.createElement(p.default,{accordion:!0},r.map(function(r){if(r&&1==r.skuStatus)return d.default.createElement(b,{header:r&&r.attributes&&r.attributes.reduce(function(e,t){return e+" "+t.vName},"")},t&&t.map&&t.map(function(o,i){return d.default.createElement("div",null,d.default.createElement("span",null,o.attrName||" ",":"),d.default.createElement("div",{className:h.default.selectDiv},d.default.createElement(c.default,{onChange:function(t,n,i,a){e.onChangeAttr(t,o.attrId,r,"select")},defaultValue:"",style:{width:120,marginRight:"10px"},value:e.getDefaultValue(r.attributes&&r.attributes.map(function(e){return String(e.vid)})||[],(o.platformCategoryAttributeValues||[]).map(function(e){return String(e.attrValueId)})||[],o,r.specAttributes),disabled:e.shouldBeDisable(r.attributes&&r.attributes.map(function(e){return String(e.vid)})||[],(o.platformCategoryAttributeValues||[]).map(function(e){return String(e.attrValueId)})||[])},d.default.createElement(y,{value:""},"请选择"),(o.platformCategoryAttributeValues||[]).map(function(e){return d.default.createElement(y,{value:String(e.attrValueId)},e.attrValueName)})),d.default.createElement(n.default,{value:e.getDefaultValue4Input(o,r.specAttributes,t),style:{width:500},onChange:function(t){e.onChangeAttr(t,o.attrId,r,"input")},disabled:e.shouldBeDisable(r.attributes&&r.attributes.map(function(e){return String(e.vid)})||[],(o.platformCategoryAttributeValues||[]).map(function(e){return String(e.attrValueId)})||[])})))}))})))}}]),t}(f.Component);t.default=v,e.exports=t.default},1427:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(3))&&n.__esModule?n:{default:n};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return(0,o.default)({},e,{loading:!0});case a:return(0,o.default)({},e,{loading:!1,loaded:!0,data:t.result});case u:return(0,o.default)({},e,{loading:!1,loaded:!0,error:t.msg});default:return e}},t.getAttributeByCategoryIdForShop=function(e){return{types:[i,a,u],promise:function(e){return e.get("/item/seller/categoryAttribute/queryPlatfromAttributeList",{params:{cid:1083863}})}}},t.getAttributeByCategoryIdForPlatform=function(e){return{types:[i,a,u],promise:function(e){return e.get("/item/platform/categoryAttribute/queryAttributeList",{params:{cid:1083863}})}}};var i="QUERY_ATTRIBUTE_BY_CATEGORY_LOADING",a="QUERY_ATTRIBUTE_BY_CATEGORY_SUCCESS",u="QUERY_ATTRIBUTE_BY_CATEGORY_FAIL"},1428:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=d(r(18)),i=d(r(6)),a=d(r(5)),u=d(r(7)),l=r(88),s=r(1427),c=d(s),p=d(r(1229)),f=d(r(1426));function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,p.default)({attributeData:c.default})(n=(0,l.connect)(function(e){return{attributeData:e.attributeData}},{getAttributeByCategoryIdForShop:s.getAttributeByCategoryIdForShop,getAttributeByCategoryIdForPlatform:s.getAttributeByCategoryIdForPlatform})(n=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),t}(f.default))||n)||n;t.default=h,e.exports=t.default}}]);
//# sourceMappingURL=13-0797627f6ba75e43955d.js.map