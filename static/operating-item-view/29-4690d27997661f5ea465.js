(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1375:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d,o=(d=a(1485))&&d.__esModule?d:{default:d};t.default=o.default,e.exports=t.default},1479:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d,o=(d=a(3))&&d.__esModule?d:{default:d};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p:return(0,o.default)({},e,{first:(0,o.default)({},e.first,{firstloaded:!1,loading:!0})});case C:return(0,o.default)({},e,{second:(0,o.default)({},e.second,{secondloaded:!1,loading:!0})});case h:return(0,o.default)({},e,{third:(0,o.default)({},e.third,{thirdloaded:!1,loading:!0})});case g:return(0,o.default)({},e,{four:(0,o.default)({},e.four,{fourloaded:!1,loading:!0})});case n:return(0,o.default)({},e,{first:{loading:!1,firstloaded:!0,data:t.result}});case r:return(0,o.default)({},e,{first:{loading:!1,firstloaded:!1,error:t.msg}});case s:return(0,o.default)({},e,{second:{loading:!1,secondloaded:!0,data:t.result}});case l:return(0,o.default)({},e,{second:{loading:!1,secondloaded:!1,error:t.msg}});case i:return(0,o.default)({},e,{third:{loading:!1,thirdloaded:!0,data:t.result}});case c:return(0,o.default)({},e,{third:{loading:!1,thirdloaded:!1,error:t.msg}});case u:return(0,o.default)({},e,{four:{loading:!1,fourloaded:!0,data:t.result}});case f:return(0,o.default)({},e,{four:{loading:!1,fourloaded:!1,error:t.msg}});case m:return(0,o.default)({},e,{second:{loading:!1,data:{data:[]}},third:{loading:!1,data:{data:[]}},four:{loading:!1,data:{data:[]}}});case y:return(0,o.default)({},e,{third:{loading:!1,data:{data:[]}},four:{loading:!1,data:{data:[]}}});case _:return(0,o.default)({},e,{four:{loading:!1,data:{data:[]}}});default:return e}},t.getFirstCid=function(e){return{types:[p,n,r],promise:function(t){return t.get("/shop/shopinfo/shopinfoCategory/queryCategoryByParentCid",{params:{parentCid:e}})}}},t.getSecondCid=function(e){return{types:[C,s,l],promise:function(t){return t.get("/shop/shopinfo/shopinfoCategory/queryCategoryByParentCid",{params:{parentCid:e}})}}},t.clearData=function(e){var t=void 0;return 1==e?t=m:2==e?t=y:3==e&&(t=_),{type:t}};var n="item/categoryCascade/FIRST_CATEGORY_SUCCESS",r="item/categoryCascade/FIRST_CATEGORY_FAIL",s="item/categoryCascade/SECOND_CATEGORY_SUCCESS",l="item/categoryCascade/SECOND_CATEGORY_FAIL",i="item/categoryCascade/THIRD_CATEGORY_SUCCESS",c="item/categoryCascade/THIRD_CATEGORY_FAIL",u="item/categoryCascade/FOUR_CATEGORY_SUCCESS",f="item/categoryCascade/FOUR_CATEGORY_FAIL",p="item/categoryCascade/FIRST_CATEGORY_LOADING",C="item/categoryCascade/SECOND_CATEGORY_LOADING",h="item/categoryCascade/THIRD_CATEGORY_LOADING",g="item/categoryCascade/FOUR_CATEGORY_LOADING",m="item/categoryCascade/First_CATEGORY_CLEAR",y="item/categoryCascade/SECOND_CATEGORY_CLEAR",_="item/categoryCascade/THIRD_CATEGORY_CLEAR",O={first:{loading:!1,data:{data:[]}},second:{loading:!1,data:{data:[]}},third:{loading:!1,data:{data:[]}},four:{loading:!1,data:{data:[]}}}},1481:function(e,t,a){},1483:function(e,t,a){e.exports={labelWrap:"W18b-M1_pcQBUeTihAmr0",labelTitle:"_266bNnJYnc1cvAnbY8UVOr",labelCont:"IwSDhIJoE4BIHjbNT-6cf"}},1484:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=f(a(18)),o=f(a(6)),n=f(a(11)),r=f(a(5)),s=f(a(7)),l=f(a(347));a(348);var i=a(1),c=f(i),u=f(a(1483));function f(e){return e&&e.__esModule?e:{default:e}}a(1481);var p=l.default.Option,C=function(e){function t(e,a){(0,o.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e,a));return n.handleSecondCategoryChange=function(e){n.setState({secondValue:e}),n.detailIndex(e,n.props.getShopCidRedux.second.data.data,2),n.handleChangeCategoryValue(e,n.state.secondLeaf)},n.handleFirstCategoryChange=function(e){n.setState({firstValue:e,secondValue:"请选择",secondLeaf:!1}),n.firstOn=!0,n.secondOn=!0,n.secondCategoryOptions=c.default.createElement(p,{title:"请选择",key:"请选择"},c.default.createElement("span",{style:{color:"#ccc"}},"请选择")),e&&"请选择"!=e?(n.detailIndex(e,n.props.getShopCidRedux.first.data.data,1),n.props.getSecondCid(e).then(function(e){e.data&&e.data.length<1&&(n.state.firstLeaf?(n.setState({secondValue:"请选择"}),n.secondCategoryOptions=c.default.createElement(p,{title:"请选择",key:"请选择"},c.default.createElement("span",{style:{color:"#ccc"}},"请选择"))):(n.secondCategoryOptions=[],n.secondOn=!1))})):(n.secondCategoryOptions=c.default.createElement(p,{title:"请选择",key:"请选择"},c.default.createElement("span",{style:{color:"#ccc"}},"请选择")),n.props.clearData(1)),n.handleChangeCategoryValue(e,n.state.firstLeaf)},n.state={firstLeaf:!1,secondLeaf:!1,firstValue:"请选择",secondValue:"请选择"},n.firstCategoryOptions=c.default.createElement(p,{title:"请选择",key:"请选择"},c.default.createElement("span",{style:{color:"#ccc"}},"请选择")),n.secondCategoryOptions=c.default.createElement(p,{title:"请选择",key:"请选择"},c.default.createElement("span",{style:{color:"#ccc"}},"请选择")),n.currentIndex=0,n.firstOn=!0,n.secondOn=!1,n.shopCnames="",n}return(0,s.default)(t,e),(0,n.default)(t,[{key:"componentWillMount",value:function(){this.props.getFirstCid(-1)}},{key:"componentWillReceiveProps",value:function(e){if(e.itemTmplPublishVo&&e.itemTmplPublishVo.shopCnames&&e.itemTmplPublishVo.shopCnames!=this.shopCnames){this.shopCnames=e.itemTmplPublishVo.shopCnames;var t=this.shopCnames.split(",");switch(this.setState({firstValue:t[0]?t[0]:"请选择",secondValue:t[1]?t[1]:"请选择"}),t.length){case 1:this.setState({firstLeaf:!0});case 2:this.setState({secondLeaf:!0})}}}},{key:"handleChangeCategoryValue",value:function(e,t){var a=this.props.itemTmplPublishVo;t&&(a.shopCid=e,this.props.updateItemTmplAction(a))}},{key:"detailIndex",value:function(e,t,a){var d=this,o=!1;switch(t&&t.length>0&&t.map(function(a,n){a.cid==e&&(d.currentIndex=n,1==t[d.currentIndex].hasLeaf&&(o=!0))}),a){case 1:this.setState({firstLeaf:o});case 2:this.setState({secondLeaf:o})}}},{key:"dataSource",value:function(){var e=this;return{first:function(){if(e.props.getShopCidRedux.first.data){var t=e.props.getShopCidRedux.first.data.data;t&&t.length>0&&(e.firstCategoryOptions=t.map(function(e){return c.default.createElement(p,{title:e.categoryName,key:e.cid},e.categoryName)}),e.firstCategoryOptions.unshift(c.default.createElement(p,{title:"请选择",key:"请选择"},c.default.createElement("span",{style:{color:"#ccc"}},"请选择"))))}},second:function(){if(e.props.getShopCidRedux.second.data){var t=e.props.getShopCidRedux.second.data.data;t&&t.length>0&&(e.secondCategoryOptions=t.map(function(e){return c.default.createElement(p,{title:e.categoryName,key:e.cid},e.categoryName)}),e.secondCategoryOptions.unshift(c.default.createElement(p,{title:"请选择",key:"请选择"},c.default.createElement("span",{style:{color:"#ccc"}},"请选择"))))}}}}},{key:"render",value:function(){return this.firstOn&&this.props.getShopCidRedux.first.firstloaded&&this.dataSource().first(),this.secondOn&&this.props.getShopCidRedux.second.secondloaded&&this.dataSource().second(),c.default.createElement("div",{className:u.default.labelWrap},c.default.createElement("label",{className:u.default.labelTitle},"店铺："),c.default.createElement("div",{className:u.default.labelCont},c.default.createElement(l.default,{disabled:this.props.ifValid,placeholder:"请选择",value:this.state.firstValue,notFoundContent:"请选择类目",allowClear:!0,size:"large",className:"select",onChange:this.handleFirstCategoryChange},this.firstCategoryOptions),c.default.createElement(l.default,{disabled:this.props.ifValid||this.state.firstLeaf,placeholder:"请选择",notFoundContent:"请选择类目",allowClear:!0,size:"large",className:"select",onChange:this.handleSecondCategoryChange,value:this.state.secondValue},this.secondCategoryOptions)))}}]),t}(i.Component);t.default=C,e.exports=t.default},1485:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,o=p(a(18)),n=p(a(6)),r=p(a(5)),s=p(a(7)),l=a(88),i=p(a(1229)),c=p(a(1484)),u=a(1479),f=p(u);function p(e){return e&&e.__esModule?e:{default:e}}var C=(0,i.default)({getShopCidRedux:f.default})(d=(0,l.connect)(function(e){return{getShopCidRedux:e.getShopCidRedux}},{getFirstCid:u.getFirstCid,getSecondCid:u.getSecondCid,clearData:u.clearData})(d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),t}(c.default))||d)||d;t.default=C,e.exports=t.default}}]);
//# sourceMappingURL=29-4690d27997661f5ea465.js.map